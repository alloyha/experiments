version: '3.8'

# Docker Compose Override for Development
# This file is automatically loaded by Docker Compose and provides
# development-specific configurations that override the main docker-compose.yml

services:
  app:
    # Enable hot-reload in development
    command: uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
    environment:
      - DEBUG=true
      - LOG_LEVEL=DEBUG
    # Mount source code for live editing
    volumes:
      - .:/app:cached
      - /var/run/docker.sock:/var/run/docker.sock

  worker:
    environment:
      - LOG_LEVEL=DEBUG
    volumes:
      - .:/app:cached
      - /var/run/docker.sock:/var/run/docker.sock

  scheduler:
    environment:
      - LOG_LEVEL=DEBUG
    volumes:
      - .:/app:cached

  flower:
    environment:
      - LOG_LEVEL=DEBUG

# For production deployment, rename this file to docker-compose.override.yml.bak
# or delete it to use the production configuration from docker-compose.yml